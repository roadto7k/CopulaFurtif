%% Generated by Sphinx.
\def\sphinxdocclass{article}
\documentclass[letterpaper,18pt,english]{sphinxhowto}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage[,numfigreset=2,mathnumfig,mathnumsep={.}]{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Getting Started}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{2}

\renewcommand{\footnote}[1][0]{\footnotemark\footnotetext}
\renewcommand{\phantomsection}{\par}

\title{CopulaFurtif Manual}
\date{Apr 22, 2025}
\release{1.0.0}
\author{J√©r√©my Loustau-laguide, Th√©o Reymermier}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\noindent{\hspace*{\fill}\sphinxincludegraphics[scale=0.5]{{saucisson}.jpg}\hspace*{\fill}}

\sphinxAtStartPar
CopulaFurtif est un pipeline modulaire pour la mod√©lisation, le fitting et l‚Äôanalyse de copules bivari√©es.

\sphinxAtStartPar
‚Äî

\sphinxAtStartPar
üìö Sections disponibles :

\sphinxstepscope


\section{Installation}
\label{\detokenize{pages/installation:installation}}\label{\detokenize{pages/installation:id1}}\label{\detokenize{pages/installation::doc}}
\sphinxAtStartPar
Voici comment installer et configurer CopulaFurtif dans votre environnement local.


\subsection{‚öôÔ∏è Pr√©requis}
\label{\detokenize{pages/installation:prerequis}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Python \textgreater{}= 3.9

\item {} 
\sphinxAtStartPar
\sphinxtitleref{poetry} (recommand√©) ou \sphinxtitleref{pip}

\item {} 
\sphinxAtStartPar
Unix\sphinxhyphen{}like OS recommand√© (Linux/macOS)

\end{itemize}


\subsection{üì¶ Installation avec Poetry (recommand√©e)}
\label{\detokenize{pages/installation:installation-avec-poetry-recommandee}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
git\PYG{+w}{ }clone\PYG{+w}{ }https://github.com/roadto7k/CopulaFurtif.git
\PYG{n+nb}{cd}\PYG{+w}{ }CopulaFurtif
poetry\PYG{+w}{ }install
poetry\PYG{+w}{ }shell
\end{sphinxVerbatim}


\subsection{üì¶ Installation avec pip (alternatif)}
\label{\detokenize{pages/installation:installation-avec-pip-alternatif}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
git\PYG{+w}{ }clone\PYG{+w}{ }https://github.com/roadto7k/CopulaFurtif.git
\PYG{n+nb}{cd}\PYG{+w}{ }CopulaFurtif
pip\PYG{+w}{ }install\PYG{+w}{ }\PYGZhy{}r\PYG{+w}{ }requirements.txt
\end{sphinxVerbatim}


\subsection{üí° (Optionnel) : installer \sphinxtitleref{pre\sphinxhyphen{}commit}}
\label{\detokenize{pages/installation:optionnel-installer-pre-commit}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
pre\PYGZhy{}commit\PYG{+w}{ }install
\end{sphinxVerbatim}

\sphinxAtStartPar
Cela active le lint automatique avant chaque commit (PEP8, isort, black, etc).


\subsection{üß™ Lancer les tests}
\label{\detokenize{pages/installation:lancer-les-tests}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
make\PYG{+w}{ }\PYG{n+nb}{test}\PYG{+w}{         }\PYG{c+c1}{\PYGZsh{} ou: pytest tests/}
make\PYG{+w}{ }coverage\PYGZhy{}html\PYG{+w}{  }\PYG{c+c1}{\PYGZsh{} et ouvrir htmlcov/index.html}
\end{sphinxVerbatim}


\subsection{üìö G√©n√©rer la documentation}
\label{\detokenize{pages/installation:generer-la-documentation}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n+nb}{cd}\PYG{+w}{ }docs
make\PYG{+w}{ }html
\end{sphinxVerbatim}

\sphinxAtStartPar
La documentation est ensuite accessible dans \sphinxtitleref{docs/\_build/html/index.html}


\subsection{üìÇ Arborescence simplifi√©e}
\label{\detokenize{pages/installation:arborescence-simplifiee}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
CopulaFurtif/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îî‚îÄ‚îÄ copulas/
‚îÇ       ‚îú‚îÄ‚îÄ domain/
‚îÇ       ‚îú‚îÄ‚îÄ application/
‚îÇ       ‚îî‚îÄ‚îÄ infrastructure/
‚îú‚îÄ‚îÄ tests/
‚îú‚îÄ‚îÄ docs/
‚îî‚îÄ‚îÄ pyproject.toml
\end{sphinxVerbatim}

\sphinxAtStartPar
‚úÖ Et voil√†, vous √™tes pr√™t √† explorer le monde fascinant des copules !

\sphinxstepscope


\section{Utilisation de base}
\label{\detokenize{pages/usage:utilisation-de-base}}\label{\detokenize{pages/usage:usage}}\label{\detokenize{pages/usage::doc}}
\sphinxAtStartPar
Cette section vous guide dans l‚Äôutilisation du pipeline \sphinxtitleref{CopulaFurtif} pour cr√©er, manipuler et diagnostiquer des copules bivari√©es.


\subsection{üß± Cr√©ation de copules}
\label{\detokenize{pages/usage:creation-de-copules}}
\sphinxAtStartPar
Toutes les copules sont accessibles via la \sphinxtitleref{CopulaFactory} :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{factories}\PYG{n+nn}{.}\PYG{n+nn}{copula\PYGZus{}factory}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{CopulaFactory}

\PYG{n}{copula} \PYG{o}{=} \PYG{n}{CopulaFactory}\PYG{o}{.}\PYG{n}{create}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gaussian}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{copula}\PYG{o}{.}\PYG{n}{name}\PYG{p}{)}  \PYG{c+c1}{\PYGZsh{} Gaussian Copula}
\end{sphinxVerbatim}

\sphinxAtStartPar
Copules disponibles : \sphinxtitleref{gaussian}, \sphinxtitleref{student}, \sphinxtitleref{clayton}, \sphinxtitleref{frank}, \sphinxtitleref{joe}, \sphinxtitleref{gumbel}, \sphinxtitleref{amh}, \sphinxtitleref{tawn3}, \sphinxtitleref{galambos}, \sphinxtitleref{plackett}, \sphinxtitleref{fgm}, etc.


\subsection{üìä Donn√©es d‚Äôentr√©e}
\label{\detokenize{pages/usage:donnees-d-entree}}
\sphinxAtStartPar
Le pipeline attend g√©n√©ralement :
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Raw data} : donn√©es originales pour Kendall‚Äôs tau (\sphinxtitleref{{[}{[}X1, Y1{]}, {[}X2, Y2{]}, ‚Ä¶{]}})

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Pseudo\sphinxhyphen{}observations} : donn√©es uniformis√©es \sphinxtitleref{u, v ‚àà (0,1)} via les marges

\end{itemize}

\sphinxAtStartPar
G√©n√©rer des pseudo\sphinxhyphen{}observations :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{estimation}\PYG{n+nn}{.}\PYG{n+nn}{utils}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{pseudo\PYGZus{}obs}

\PYG{n}{u}\PYG{p}{,} \PYG{n}{v} \PYG{o}{=} \PYG{n}{pseudo\PYGZus{}obs}\PYG{p}{(}\PYG{n}{data}\PYG{p}{)}  \PYG{c+c1}{\PYGZsh{} data = [[X1, Y1], [X2, Y2], ...]}
\end{sphinxVerbatim}


\subsection{üìà Acc√®s aux m√©thodes de base}
\label{\detokenize{pages/usage:acces-aux-methodes-de-base}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{copula}\PYG{o}{.}\PYG{n}{parameters} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mf}{0.5}\PYG{p}{]}       \PYG{c+c1}{\PYGZsh{} ou [rho, nu] pour Student}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{copula}\PYG{o}{.}\PYG{n}{get\PYGZus{}cdf}\PYG{p}{(}\PYG{l+m+mf}{0.4}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{copula}\PYG{o}{.}\PYG{n}{get\PYGZus{}pdf}\PYG{p}{(}\PYG{l+m+mf}{0.4}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{)}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{copula}\PYG{o}{.}\PYG{n}{kendall\PYGZus{}tau}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{samples} \PYG{o}{=} \PYG{n}{copula}\PYG{o}{.}\PYG{n}{sample}\PYG{p}{(}\PYG{l+m+mi}{100}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{üî¨ Diagnostic}
\label{\detokenize{pages/usage:diagnostic}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{application}\PYG{n+nn}{.}\PYG{n+nn}{services}\PYG{n+nn}{.}\PYG{n+nn}{diagnostics\PYGZus{}service}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{DiagnosticService}

\PYG{n}{diag} \PYG{o}{=} \PYG{n}{DiagnosticService}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{scores} \PYG{o}{=} \PYG{n}{diag}\PYG{o}{.}\PYG{n}{evaluate}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{copula}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{scores}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
R√©sultat : dict avec \sphinxtitleref{LogLik}, \sphinxtitleref{AIC}, \sphinxtitleref{BIC}, \sphinxtitleref{Kendall Tau Error}, etc.

\sphinxAtStartPar
üìå √Ä venir : fitting \& visualisation

\sphinxstepscope


\section{Ajustement de copules (fitting)}
\label{\detokenize{pages/fitting:ajustement-de-copules-fitting}}\label{\detokenize{pages/fitting:fitting}}\label{\detokenize{pages/fitting::doc}}
\sphinxAtStartPar
Cette page d√©crit comment ajuster une copule √† vos donn√©es √† l‚Äôaide du pipeline CopulaFurtif.


\subsection{üß™ Objectif}
\label{\detokenize{pages/fitting:objectif}}
\sphinxAtStartPar
Trouver les meilleurs param√®tres de la copule qui maximisent la vraisemblance des donn√©es.


\subsection{‚öôÔ∏è Outils disponibles}
\label{\detokenize{pages/fitting:outils-disponibles}}
\sphinxAtStartPar
Trois m√©thodes principales d‚Äôajustement sont support√©es :
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxtitleref{CMLE} : Canonical Maximum Likelihood Estimation (avec pseudo\sphinxhyphen{}observations)

\item {} 
\sphinxAtStartPar
\sphinxtitleref{MLE}  : Maximum Likelihood sur donn√©es brutes + marges

\item {} 
\sphinxAtStartPar
\sphinxtitleref{IFM}  : Inference Function for Margins (deux √©tapes)

\end{itemize}


\subsection{üöÄ Exemple : CMLE}
\label{\detokenize{pages/fitting:exemple-cmle}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{factories}\PYG{n+nn}{.}\PYG{n+nn}{copula\PYGZus{}factory}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{CopulaFactory}
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{application}\PYG{n+nn}{.}\PYG{n+nn}{use\PYGZus{}cases}\PYG{n+nn}{.}\PYG{n+nn}{fit\PYGZus{}copula}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{FitCopulaUseCase}

\PYG{n}{copula} \PYG{o}{=} \PYG{n}{CopulaFactory}\PYG{o}{.}\PYG{n}{create}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gumbel}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{data} \PYG{o}{=} \PYG{p}{[}\PYG{p}{[}\PYG{l+m+mf}{0.2}\PYG{p}{,} \PYG{l+m+mf}{0.3}\PYG{p}{]}\PYG{p}{,} \PYG{p}{[}\PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+m+mf}{0.6}\PYG{p}{]}\PYG{p}{,} \PYG{p}{[}\PYG{l+m+mf}{0.9}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{]}\PYG{p}{,} \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}\PYG{p}{]}  \PYG{c+c1}{\PYGZsh{} liste de paires (X, Y)}

\PYG{n}{result} \PYG{o}{=} \PYG{n}{FitCopulaUseCase}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{fit\PYGZus{}cmle}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{copula}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Param√®tres optimaux :}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{copula}\PYG{o}{.}\PYG{n}{parameters}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Log\PYGZhy{}vraisemblance :}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{copula}\PYG{o}{.}\PYG{n}{log\PYGZus{}likelihood\PYGZus{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{üì¶ Exemple : MLE avec marges}
\label{\detokenize{pages/fitting:exemple-mle-avec-marges}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{application}\PYG{n+nn}{.}\PYG{n+nn}{use\PYGZus{}cases}\PYG{n+nn}{.}\PYG{n+nn}{fit\PYGZus{}copula}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{FitCopulaUseCase}
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{estimation}\PYG{n+nn}{.}\PYG{n+nn}{marginals}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{fit\PYGZus{}marginals}

\PYG{n}{marginals} \PYG{o}{=} \PYG{n}{fit\PYGZus{}marginals}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{family}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{normal}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{result} \PYG{o}{=} \PYG{n}{FitCopulaUseCase}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{fit\PYGZus{}mle}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{copula}\PYG{p}{,} \PYG{n}{marginals}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{üîÅ Exemple : IFM}
\label{\detokenize{pages/fitting:exemple-ifm}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{application}\PYG{n+nn}{.}\PYG{n+nn}{use\PYGZus{}cases}\PYG{n+nn}{.}\PYG{n+nn}{fit\PYGZus{}copula}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{FitCopulaUseCase}
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{estimation}\PYG{n+nn}{.}\PYG{n+nn}{marginals}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{fit\PYGZus{}marginals}

\PYG{n}{marginals} \PYG{o}{=} \PYG{n}{fit\PYGZus{}marginals}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{family}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{normal}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{result} \PYG{o}{=} \PYG{n}{FitCopulaUseCase}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{fit\PYGZus{}ifm}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{copula}\PYG{p}{,} \PYG{n}{marginals}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{üîç Options d‚Äôoptimisation}
\label{\detokenize{pages/fitting:options-d-optimisation}}\begin{itemize}
\item {} 
\sphinxAtStartPar
M√©thodes utilis√©es : \sphinxtitleref{SLSQP}, \sphinxtitleref{Powell}, \sphinxtitleref{L\sphinxhyphen{}BFGS\sphinxhyphen{}B}, etc.

\item {} 
\sphinxAtStartPar
Les options peuvent √™tre pass√©es via \sphinxtitleref{FitCopulaUseCase(‚Ä¶, options=\{‚Ä¶\})}

\end{itemize}


\subsection{üìå Conseils}
\label{\detokenize{pages/fitting:conseils}}\begin{itemize}
\item {} 
\sphinxAtStartPar
V√©rifiez que la copule est bien ‚Äúfitt√©e‚Äù (\sphinxtitleref{copula.log\_likelihood\_} non nul)

\item {} 
\sphinxAtStartPar
Adaptez le choix de la m√©thode selon la nature des donn√©es (brutes ou uniformis√©es)

\item {} 
\sphinxAtStartPar
V√©rifiez les bornes des param√®tres (\sphinxtitleref{copula.bounds\_param})

\end{itemize}

\sphinxstepscope


\section{Visualisation}
\label{\detokenize{pages/visualization:visualisation}}\label{\detokenize{pages/visualization:visualization}}\label{\detokenize{pages/visualization::doc}}
\sphinxAtStartPar
CopulaFurtif propose plusieurs outils pour visualiser la qualit√© d‚Äôajustement des copules.


\subsection{üå°Ô∏è Heatmap des r√©sidus (Empirical \sphinxhyphen{} Model)}
\label{\detokenize{pages/visualization:heatmap-des-residus-empirical-model}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{infrastructure}\PYG{n+nn}{.}\PYG{n+nn}{visualization}\PYG{n+nn}{.}\PYG{n+nn}{copula\PYGZus{}viz\PYGZus{}adapter}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{plot\PYGZus{}residual\PYGZus{}heatmap}

\PYG{n}{u}\PYG{p}{,} \PYG{n}{v} \PYG{o}{=} \PYG{n}{pseudo\PYGZus{}obs}\PYG{p}{(}\PYG{n}{data}\PYG{p}{)}
\PYG{n}{plot\PYGZus{}residual\PYGZus{}heatmap}\PYG{p}{(}\PYG{n}{copula}\PYG{p}{,} \PYG{n}{u}\PYG{p}{,} \PYG{n}{v}\PYG{p}{,} \PYG{n}{bins}\PYG{o}{=}\PYG{l+m+mi}{50}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
Cela produit une carte des √©carts entre la CDF empirique et celle du mod√®le.


\subsection{üìà Courbes conditionnelles}
\label{\detokenize{pages/visualization:courbes-conditionnelles}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{infrastructure}\PYG{n+nn}{.}\PYG{n+nn}{visualization}\PYG{n+nn}{.}\PYG{n+nn}{copula\PYGZus{}viz\PYGZus{}adapter}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{plot\PYGZus{}conditional\PYGZus{}curves}

\PYG{n}{plot\PYGZus{}conditional\PYGZus{}curves}\PYG{p}{(}\PYG{n}{copula}\PYG{p}{,} \PYG{n}{fixed\PYGZus{}values}\PYG{o}{=}\PYG{p}{[}\PYG{l+m+mf}{0.25}\PYG{p}{,} \PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+m+mf}{0.75}\PYG{p}{]}\PYG{p}{,} \PYG{n}{kind}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{u\PYGZus{}given\PYGZus{}v}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{üìä Benchmark entre copules}
\label{\detokenize{pages/visualization:benchmark-entre-copules}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{infrastructure}\PYG{n+nn}{.}\PYG{n+nn}{visualization}\PYG{n+nn}{.}\PYG{n+nn}{copula\PYGZus{}viz\PYGZus{}adapter}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{plot\PYGZus{}copula\PYGZus{}comparison}

\PYG{n}{copulas} \PYG{o}{=} \PYG{p}{[}\PYG{n}{CopulaFactory}\PYG{o}{.}\PYG{n}{create}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gaussian}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,} \PYG{n}{CopulaFactory}\PYG{o}{.}\PYG{n}{create}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gumbel}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{]}
\PYG{k}{for} \PYG{n}{c} \PYG{o+ow}{in} \PYG{n}{copulas}\PYG{p}{:}
    \PYG{n}{FitCopulaUseCase}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{fit\PYGZus{}cmle}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{c}\PYG{p}{)}

\PYG{n}{plot\PYGZus{}copula\PYGZus{}comparison}\PYG{p}{(}\PYG{n}{copulas}\PYG{p}{,} \PYG{n}{u}\PYG{p}{,} \PYG{n}{v}\PYG{p}{)}
\end{sphinxVerbatim}


\subsection{üéØ R√©sum√© visuel int√©gr√©}
\label{\detokenize{pages/visualization:resume-visuel-integre}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{infrastructure}\PYG{n+nn}{.}\PYG{n+nn}{visualization}\PYG{n+nn}{.}\PYG{n+nn}{copula\PYGZus{}viz\PYGZus{}adapter}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{full\PYGZus{}copula\PYGZus{}summary}

\PYG{n}{full\PYGZus{}copula\PYGZus{}summary}\PYG{p}{(}\PYG{n}{copula}\PYG{p}{,} \PYG{n}{data}\PYG{p}{,} \PYG{n}{bins}\PYG{o}{=}\PYG{l+m+mi}{40}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxstepscope


\section{√âtendre le pipeline : ajouter une copule}
\label{\detokenize{pages/extending:etendre-le-pipeline-ajouter-une-copule}}\label{\detokenize{pages/extending:extending}}\label{\detokenize{pages/extending::doc}}
\sphinxAtStartPar
Cette section vous montre comment int√©grer une nouvelle copule dans le pipeline CopulaFurtif selon l‚Äôarchitecture hexagonale.


\subsection{üß± √âtapes pour ajouter une copule}
\label{\detokenize{pages/extending:etapes-pour-ajouter-une-copule}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Cr√©er la classe de la copule}
\begin{itemize}
\item {} 
\sphinxAtStartPar
H√©ritez de \sphinxtitleref{CopulaModel} (et \sphinxtitleref{ModelSelectionMixin}, \sphinxtitleref{SupportsTailDependence} si applicable)

\item {} 
\sphinxAtStartPar
Impl√©mentez les m√©thodes : \sphinxtitleref{get\_cdf}, \sphinxtitleref{get\_pdf}, \sphinxtitleref{sample}, \sphinxtitleref{kendall\_tau}, etc.

\end{itemize}

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{models}\PYG{n+nn}{.}\PYG{n+nn}{interfaces}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{CopulaModel}

\PYG{k}{class}\PYG{+w}{ }\PYG{n+nc}{MyCopula}\PYG{p}{(}\PYG{n}{CopulaModel}\PYG{p}{)}\PYG{p}{:}
    \PYG{k}{def}\PYG{+w}{ }\PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}\PYG{p}{:}
        \PYG{n+nb}{super}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{My Copula}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{type} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{mycopula}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{bounds\PYGZus{}param} \PYG{o}{=} \PYG{p}{[}\PYG{p}{(}\PYG{l+m+mf}{0.1}\PYG{p}{,} \PYG{l+m+mf}{5.0}\PYG{p}{)}\PYG{p}{]}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}parameters} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mf}{1.0}\PYG{p}{]}

    \PYG{k}{def}\PYG{+w}{ }\PYG{n+nf}{get\PYGZus{}cdf}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{u}\PYG{p}{,} \PYG{n}{v}\PYG{p}{,} \PYG{n}{param}\PYG{o}{=}\PYG{k+kc}{None}\PYG{p}{)}\PYG{p}{:}
        \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}

    \PYG{k}{def}\PYG{+w}{ }\PYG{n+nf}{get\PYGZus{}pdf}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{u}\PYG{p}{,} \PYG{n}{v}\PYG{p}{,} \PYG{n}{param}\PYG{o}{=}\PYG{k+kc}{None}\PYG{p}{)}\PYG{p}{:}
        \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}

    \PYG{k}{def}\PYG{+w}{ }\PYG{n+nf}{sample}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{n}\PYG{p}{,} \PYG{n}{param}\PYG{o}{=}\PYG{k+kc}{None}\PYG{p}{)}\PYG{p}{:}
        \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}

    \PYG{k}{def}\PYG{+w}{ }\PYG{n+nf}{kendall\PYGZus{}tau}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{param}\PYG{o}{=}\PYG{k+kc}{None}\PYG{p}{)}\PYG{p}{:}
        \PYG{o}{.}\PYG{o}{.}\PYG{o}{.}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Ajouter dans la factory}

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{factories}\PYG{n+nn}{.}\PYG{n+nn}{copula\PYGZus{}factory}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{CopulaFactory}
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{domain}\PYG{n+nn}{.}\PYG{n+nn}{models}\PYG{n+nn}{.}\PYG{n+nn}{archimedean}\PYG{n+nn}{.}\PYG{n+nn}{mycopula}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{MyCopula}

\PYG{n}{CopulaFactory}\PYG{o}{.}\PYG{n}{register}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{mycopula}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{MyCopula}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{√âcrire un test unitaire}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Testez tous les comportements : param√®tres, PDF, CDF, d√©riv√©es, etc.

\item {} 
\sphinxAtStartPar
Placez le fichier dans \sphinxtitleref{tests/units/test\_my\_model.py}

\end{itemize}

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{(Facultatif) Ajouter une visualisation}

\sphinxAtStartPar
Si besoin, ajoutez une fonction dans \sphinxtitleref{copula\_viz\_adapter.py}

\end{enumerate}


\subsection{üß™ Exemple complet}
\label{\detokenize{pages/extending:exemple-complet}}
\sphinxAtStartPar
Un exemple d‚Äôint√©gration compl√®te (copule Joe ou Gumbel) est disponible dans \sphinxtitleref{tests/} et \sphinxtitleref{domain/models/}.


\subsection{üìå Bonnes pratiques}
\label{\detokenize{pages/extending:bonnes-pratiques}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Utilisez \sphinxtitleref{np.clip} pour les bornes (√©viter les log(0), division par 0)

\item {} 
\sphinxAtStartPar
Ajoutez \sphinxtitleref{@property parameters} avec setter validant \sphinxtitleref{bounds\_param}

\item {} 
\sphinxAtStartPar
Impl√©mentez \sphinxtitleref{\_\_str\_\_} si utile pour debug ou logs

\end{itemize}

\sphinxAtStartPar
üìö Voir aussi : \sphinxtitleref{copula\_factory.py}, \sphinxtitleref{test\_factory\_and\_archimedean.py}, \sphinxtitleref{diagnostics\_service.py}

\sphinxAtStartPar
‚Äî


\section{üöÄ Quickstart}
\label{\detokenize{index:quickstart}}
\sphinxAtStartPar
Voici un exemple rapide :

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{CopulaFactory}
\PYG{k+kn}{from}\PYG{+w}{ }\PYG{n+nn}{CopulaFurtif}\PYG{n+nn}{.}\PYG{n+nn}{core}\PYG{n+nn}{.}\PYG{n+nn}{copulas}\PYG{n+nn}{.}\PYG{n+nn}{application}\PYG{n+nn}{.}\PYG{n+nn}{use\PYGZus{}cases}\PYG{n+nn}{.}\PYG{n+nn}{fit\PYGZus{}copula}\PYG{+w}{ }\PYG{k+kn}{import} \PYG{n}{FitCopulaUseCase}

\PYG{n}{copula} \PYG{o}{=} \PYG{n}{CopulaFactory}\PYG{o}{.}\PYG{n}{create}\PYG{p}{(}\PYGZbs{}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gaussian}\PYG{l+s+se}{\PYGZbs{}\PYGZdq{}}\PYG{l+s+s2}{)}
\PYG{n}{data} \PYG{o}{=} \PYG{p}{[}\PYG{p}{[}\PYG{l+m+mf}{0.1}\PYG{p}{,} \PYG{l+m+mf}{0.2}\PYG{p}{]}\PYG{p}{,} \PYG{p}{[}\PYG{l+m+mf}{0.4}\PYG{p}{,} \PYG{l+m+mf}{0.5}\PYG{p}{]}\PYG{p}{,} \PYG{p}{[}\PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.9}\PYG{p}{]}\PYG{p}{]}  \PYG{c+c1}{\PYGZsh{} exemple}

\PYG{n}{fit\PYGZus{}result} \PYG{o}{=} \PYG{n}{FitCopulaUseCase}\PYG{p}{(}\PYG{p}{)}\PYG{o}{.}\PYG{n}{fit\PYGZus{}cmle}\PYG{p}{(}\PYG{n}{data}\PYG{p}{,} \PYG{n}{copula}\PYG{p}{)}
\PYG{n+nb}{print}\PYG{p}{(}\PYGZbs{}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Params:}\PYG{l+s+se}{\PYGZbs{}\PYGZdq{}}\PYG{l+s+s2}{, copula.parameters)}
\end{sphinxVerbatim}



\renewcommand{\indexname}{Index}
\printindex
\end{document}